



# TiKit-T800-STM32F103A 开发套件产品介绍

## 一、概述

TiKit-T800-STM32F103A开发套件是北京钛云物联科技有限公司为现代物联网应用倾力打造的开发套件，是Tikit系列开发套件成员之一，其提供目标开发板和丰富的传感器外设，开发板搭载有STM32F103系列高性能微处理器，运行有功能强大的钛极OS(TiJOS)物联网操作系统，编程语言使用标准JAVA，用户只需要调用JDK中提供的传感器及系统操作接口就可以轻松快速的完成产品雏形的开发。

本开发套件中，STM32F103系列微处理器属于中低端的32位ARM微控制器，该系列芯片是[意法半导体](https://baike.sogou.com/v502986.htm)（ST）公司出品，其内核是Cortex-M3。

## 二、开发套件清单

| 类别                    | 名称            |  数量  | 备注                      |
| --------------------- | ------------- | :--: | :---------------------- |
| TiKit-T800-STM32F103A | 钛极OS开发板       |  1个  | 主板                      |
| TiButton              | 按键模块          |  1个  | 四个按键一组，共阴极              |
| TiHSCR04              | 超声波测距模块       |  1个  | 支持3.3V工作                |
| TiGenericSensor       | 火焰传感器         |  1个  | 通用传感器类                  |
| TiDHT                 | 数字温湿度采集模块     |  1个  | 支持DHT11和DHT22           |
| TiDS18B20             | 数字温度采集模块      |  1个  | 高精度，分辨率可编程              |
| TiVS1838BNEC          | 红外接收模块        |  1个  | NEC解码                   |
| TiBuzzer              | 有源蜂鸣器模块       |  1个  | 低电平激活                   |
| TiLED                 | LED灯模块        |  1个  | 四个LED灯一组，红/黄/蓝/绿 四色，共阳极 |
| TiOLED_UG2864         | OLED12864显示模块 |  1个  | 蓝(白)色，0.96英寸            |
| TiRGBLED              | 三基色灯模块        |  1个  | 共阴极                     |
| TiRelay1CH            | 单通道继电器模块      |  1个  | 弱电压5V，强电压250V，高电平激活     |
| ---                   | 红外遥控器         |  1个  | NEC编码，20键迷你型            |
| ---                   | 杜邦线           | 40条  | 彩色，长30cm                |
| ---                   | USB连接线        |  1条  | MicroUSB                |
| ---                   | 包装盒           |  1个  |                         |
| ---                   | 说明书           |  1个  |                         |
|                       | 产品铭牌          |  1个  |                         |

## 二、开发板说明

TiKit-T800-STM32F103A开发板由STM32F103VET6芯片和若干外部设备接口组成，芯片内嵌钛极OS(TiJOS)物联网操作系统。

![tikit-t800-stm32f103a](.\Picture\tikit-t800-stm32f103a.png)

### 开发板功能区

**① I/O接口：**将钛极OS(TiJOS)物联网操作系统支持的I/O全部引出，包括：GPIO，UART等。

**② 串口转换开关：**控制USB转串口连接USART1或UART4接口。

**③ BOOT模式拨码：**BOOT0和BOOT1控制芯片的工作模式，此部分可参考STM32系列芯片官方说明。

**④ 电源接口/USB转串口：**5V电源入口，USB转串口，用于与PC数据通讯。

**⑤ 电源指示灯：**指示电源工作情况。

**⑥ 功能灯：**功能LED灯，程序中可控制其亮灭。

**⑦ 功能按键/终端启动：**控制启动终端程序(Terminal APP)或程序中启动按键功能。

**⑧ 系统复位按钮：**开发板系统复位(RESET)。

### 设备总线接口

本开发板支持GPIO、PWM、ADC、I2C、SPI、UART、OW(1-Wire)七种设备总线，每种总线支持的接口组数（个数）以及每组接口内资源支持情况请参考：**附录1：硬件平台特性**。

## 三、开发环境搭建

开发环境搭建与使用请参考TiJOS应用开发环境搭建文档。

## 四、上电使用

### 上电连接

1. 请将包装内的Micro USB 线的一端连接开发板USB接口，另一端连接到电脑。
2. 首次使用需要安装USB驱动程序，Windows 7以上操作系统自动下载安装，否则需要手动下载安装。
3. 复位开发板，确保系统已经启动**终端程序**(Terminal APP)，详细请参考：[关于钛极OS(TiJOS)系统工作模式](../../tijos-development-guide/tijos_workingmode.md)

- **请务必保证开发板下无金属物体，防止短路损坏开发板。**


### USB驱动安装

如果连接USB接口后在Windows设备管理器中未显示如下类似端口信息，则需要安装开发板上 USB 转 UART 芯片的驱动：

![usb-ch340g](.\Picture\usb-ch340g.png)

请从如下链接下载驱动文件进行安装即可

CH340 UART驱动: <http://www.wch.cn/download/CH341SER_EXE.html>

### 指示灯说明

| LED   | 作用          | 状态   |
| ----- | ----------- | ---- |
| 红色LED | 5V电源接通      | 常亮   |
| 蓝色LED | USB转串口数据通讯中 | 闪烁   |

### 按键说明

| 按键      | 作用                                       |
| ------- | ---------------------------------------- |
| KEY / T | 系统终端程序启动按键，按住此按键不放，按一次RESET按键，然后松开此按键，**终端程序**(Terminal APP)启动，可进行用户应用下载/运行和系统配置等 |
| RESET   | 系统复位按键，按一次按键，系统复位                        |

### 接口说明

**P1、P2接口**

| 丝印                  | 功能                      |
| ------------------- | ----------------------- |
| A0...A15 - E0...E15 | 系统I/O接口（GPIO、UART、I2C等） |
| 5V / 3V3、GND        | 系统5V和3.3V电源接口           |

系统I/O资源分配请参考 ：**附录2：I/O资源**

## 五、传感器及模块

关于开发套件中传感器模块介绍请参考：[TiKit开发套件传感器模块介绍](../tikit_sensors.md)

## 六、技术性能和主要参数

电源电压：5.0V.

工作电压：3.3V.

工作电流：

1. 工作模式：<36mA.
2. 睡眠模式：<10mA.
3. 停止模式：<50uA.
4. 待机模式：<10uA.

应用程序启动时间：<10ms.

应用程序事件响应时间：<2ms.

工作温度：-40℃~85℃.

存储环境：温度 <40℃，相对湿度 <90%R.H.

尺寸：62.5 * 92.5 mm.

## 七、常见问题

#### 问题1. 底板3.3V或5V电源接口无电压？

1. 确保主板USB的5V电源已经接通，红色电源指示灯常亮。

#### 问题2. 日志无法打印？

1. 确保主板USB已正确连接计算机并且串口驱动（CH340芯片）已经成功安装。

#### 问题3. 应用无法下载？

1. 确保主板USB已正确连接计算机并且串口驱动（CH340芯片）已经成功安装。
2. 确保系统**终端程序**(Terminal APP)，启动方法：按住KEY / T按键，按一次RESET按键，然后松开KEY / T按键。

更多问题可访问[钛极OS(TiJOS)技术交流社区](http://bbs.tijos.net)进行讨论。

## 八、其他

## 附录1：硬件平台特性

硬件平台特性为STM32F103VET6硬件在钛极OS(TiJOS)操作系统下支持的特性，不同硬件平台在钛极OS(TiJOS)操作系统下支持的特性可能不相同，用户在做系统开发前应仔细阅读。

| 存储特性     | 支持    | 说明           |
| -------- | ----- | ------------ |
| 支持应用数据存储 | 32KB  | JAVA共享文件系统空间 |
| 支持应用程序存储 | 346KB | *.TAPK执行区空间  |
| 支持应用程序内存 | 32KB  | *.TAPK执行堆空间  |

| 电源管理特性                    | 支持   | 说明                       |
| ------------------------- | ---- | ------------------------ |
| 睡眠模式，通过GPIO唤醒             | 支持   | GPIO事件唤醒                 |
| 停止模式，通过GPIO唤醒或指定时间自动唤醒    | 支持   | GPIO事件唤醒/RTC闹铃唤醒，时间单位：秒  |
| 待机模式，通过Wakeup脚唤醒或指定时间自动唤醒 | 支持   | Wakeup脚唤醒/RTC闹铃唤醒，时间单位：秒 |

| GPIO特性       | 支持   | 说明                                   |
| ------------ | ---- | ------------------------------------ |
| 支持数量         | 5组   | 即**支持port0-port4，PIN支持PIN0 - PIN15** |
| 支持浮空输入       | 支持   | 无                                    |
| 支持上拉输入       | 支持   | 无                                    |
| 支持下拉输入       | 支持   | 无                                    |
| 支持开漏输出       | 支持   | 无                                    |
| 支持推挽输出       | 支持   | 无                                    |
| 支持开漏输出复合浮空输入 | 支持   | 无                                    |
| 支持上升沿事件      | 支持   | 无                                    |
| 支持下降沿事件      | 支持   | 无                                    |
| 支持双沿事件       | 支持   | 无                                    |

| UART特性     | 支持          | 说明                 |
| ---------- | ----------- | ------------------ |
| 支持数量       | 3个          | 即**支持port0-port2** |
| 支持波特率(bps) | 小于4.5Mbps   | 无                  |
| 支持数据位      | 8,9         | 无                  |
| 支持停止位      | 1、2、0.5、1.5 | 无                  |
| 支持校验位      | 奇校验、偶校验、无检验 | ODD、EVEN、NONE      |
| 数据流控制      | 支持          | 硬件流控               |

| ADC特性 | 支持          | 说明                                       |
| ----- | ----------- | ---------------------------------------- |
| 支持数量  | 3组          | 即**支持port0-port2，CH支持CH0-CH15，所有port共用16个CH** |
| 参考电压  | 3.3V(伏)     | 硬件外部                                     |
| 分压倍数  | 1           | 电阻采样分压                                   |
| 电压量程  | 0 - 3.3V(伏) | 分辨率: 0.81mV(毫伏)                          |

| PWM特性   | 支持             | 说明                                       |
| ------- | -------------- | ---------------------------------------- |
| 支持数量    | 6组             | 即**支持port0-port5，Channel支持CH0-CH3，port1与port4共用4个CH** |
| 支持脉冲频率  | 200Hz - 120KHz | 周期范围：5ms - 8.33us                        |
| 支持脉冲占空比 | 0 - 1          | 0% - 100%                                |
| 互补输出    | 暂不支持           | 硬件支持                                     |
| 输入捕获    | 暂不支持           | 硬件支持                                     |

| I2C特性       | 支持      | 说明                 |
| ----------- | ------- | ------------------ |
| 主机支持数量      | 3个      | 即**支持port0-port2** |
| 从机支持数量      | 暂不支持    | 硬件支持               |
| 支持波特率(Kbps) | 100、400 | 无                  |

| SPI特性       | 支持                      | 说明                 |
| ----------- | ----------------------- | ------------------ |
| 主机支持数量      | 3个                      | 即**支持port0-port2** |
| 从机支持数量      | 暂不支持                    | 硬件支持               |
| 支持波特率(Mbps) | 1 - 36                  | 非连续                |
| 支持工作模式      | MODE0、MODE1、MODE2、MODE3 | 无                  |
| 支持数据位传输方向   | MSB、LSB                 | 无                  |
| 支持数据通道      | SIO                     | 单通道                |

| OW(单总线)特性 | 支持   | 说明                              |
| --------- | ---- | ------------------------------- |
| 主机支持数量    | 5组   | 即**支持port0-port4、IO支持IO0-IO15** |
| 从机支持数量    | 不支持  | 无                               |
| 支持标准模式    | 支持   | Standard模式                      |
| 支持高速模式    | 支持   | Over-Drive模式                    |

## 附录2：I/O资源

| I/O编号 |     GPIO     |    UART    |    I2C    |    SPI     |     PWM     |    OW     |      ADC       | 5V兼容(FT) |
| :---: | :----------: | :--------: | :-------: | :--------: | :---------: | :-------: | :------------: | :------: |
|  A0   | GPIO0  PIN0  | UART1  CTS |           |            | PWM1/4  CH0 | OW0  IO0  | ADC0/1/2  CH0  |          |
|  A1   | GPIO0  PIN1  | UART1  RTS |           |            | PWM1/4  CH1 | OW0  IO1  | ADC0/1/2  CH1  |          |
|  A2   | GPIO0  PIN2  | UART1  TX  |           |            | PWM1/4  CH2 | OW0  IO2  | ADC0/1/2  CH2  |          |
|  A3   | GPIO0  PIN3  | UART1  RX  |           |            | PWM1/4  CH3 | OW0  IO3  | ADC0/1/2  CH3  |          |
|  A4   | GPIO0  PIN4  |            |           | SPI0  NSS  |             | OW0  IO4  |  ADC0/1  CH4   |          |
|  A5   | GPIO0  PIN5  |            |           | SPI0  SCK  |             | OW0  IO5  |  ADC0/1  CH5   |          |
|  A6   | GPIO0  PIN6  |            |           | SPI0  MISO |  PWM2  CH0  | OW0  IO6  |  ADC0/1  CH6   |          |
|  A7   | GPIO0  PIN7  |            |           | SPI0  MOSI |  PWM2  CH1  | OW0  IO7  |  ADC0/1  CH7   |          |
|  A8   | GPIO0  PIN8  |            |           |            |  PWM0  CH0  | OW0  IO8  |                |    √     |
|  A9   | GPIO0  PIN9  | UART0  TX  |           |            |  PWM0  CH1  | OW0  IO9  |                |    √     |
|  A10  | GPIO0  PIN10 | UART0  RX  |           |            |  PWM0  CH2  | OW0  IO10 |                |    √     |
|  A11  | GPIO0  PIN11 | UART0  CTS |           |            |  PWM0  CH3  | OW0  IO11 |                |    √     |
|  A12  | GPIO0  PIN12 | UART0  RTS |           |            |             | OW0  IO12 |                |    √     |
|  A13  | GPIO0  PIN13 |            |           |            |             | OW0  IO13 |                |    √     |
|  A14  | GPIO0  PIN14 |            |           |            |             | OW0  IO14 |                |    √     |
|  A15  | GPIO0  PIN15 |            |           | SPI2  NSS  |             | OW0  IO15 |                |    √     |
|  B0   | GPIO1  PIN0  |            |           |            |  PWM2  CH2  | OW1  IO0  |  ADC0/1  CH8   |          |
|  B1   | GPIO1  PIN1  |            |           |            |  PWM2  CH3  | OW1  IO1  |  ADC0/1  CH9   |          |
|  B2   | GPIO1  PIN2  |            |           |            |             | OW1  IO2  |                |    √     |
|  B3   | GPIO1  PIN3  |            |           | SPI2  SCK  |             | OW1  IO3  |                |    √     |
|  B4   | GPIO1  PIN4  |            |           | SPI2  MISO |             | OW1  IO4  |                |    √     |
|  B5   | GPIO1  PIN5  |            |           | SPI2  MOSI |             | OW1  IO5  |                |          |
|  B6   | GPIO1  PIN6  |            | I2C0  SCL |            |  PWM3  CH0  | OW1  IO6  |                |    √     |
|  B7   | GPIO1  PIN7  |            | I2C0  SDA |            |  PWM3  CH1  | OW1  IO7  |                |    √     |
|  B8   | GPIO1  PIN8  |            |           |            |  PWM3  CH2  | OW1  IO8  |                |    √     |
|  B9   | GPIO1  PIN9  |            |           |            |  PWM3  CH3  | OW1  IO9  |                |    √     |
|  B10  | GPIO1  PIN10 | UART2  TX  | I2C1  SCL |            |             | OW1  IO10 |                |    √     |
|  B11  | GPIO1  PIN11 | UART2  RX  | I2C1  SDA |            |             | OW1  IO11 |                |    √     |
|  B12  | GPIO1  PIN12 |            |           | SPI1  NSS  |             | OW1  IO12 |                |    √     |
|  B13  | GPIO1  PIN13 | UART2  CTS |           | SPI1  SCK  |             | OW1  IO13 |                |    √     |
|  B14  | GPIO1  PIN14 | UART2  RTS |           | SPI1  MISO |             | OW1  IO14 |                |    √     |
|  B15  | GPIO1  PIN15 |            |           | SPI1  MISO |             | OW1  IO15 |                |    √     |
|  C0   | GPIO2  PIN0  |            |           |            |             | OW2  IO0  | ADC0/1/2  CH10 |          |
|  C1   | GPIO2  PIN1  |            |           |            |             | OW2  IO1  | ADC0/1/2  CH11 |          |
|  C2   | GPIO2  PIN2  |            |           |            |             | OW2  IO2  | ADC0/1/2  CH12 |          |
|  C3   | GPIO2  PIN3  |            |           |            |             | OW2  IO3  | ADC0/1/2  CH13 |          |
|  C4   | GPIO2  PIN4  |            |           |            |             | OW2  IO4  |  ADC0/1  CH14  |          |
|  C5   | GPIO2  PIN5  |            |           |            |             | OW2  IO5  |  ADC0/1  CH15  |          |
|  C6   | GPIO2  PIN6  |            |           |            |  PWM5  CH0  | OW2  IO6  |                |    √     |
|  C7   | GPIO2  PIN7  |            |           |            |  PWM5  CH1  | OW2  IO7  |                |    √     |
|  C8   | GPIO2  PIN8  |            |           |            |  PWM5  CH2  | OW2  IO8  |                |    √     |
|  C9   | GPIO2  PIN9  |            |           |            |  PWM5  CH3  | OW2  IO9  |                |    √     |
|  D0   | GPIO3  PIN0  |            |           |            |             |  OW3 IO0  |                |    √     |
|  D1   | GPIO3  PIN1  |            |           |            |             |  OW3 IO1  |                |    √     |
|  D2   | GPIO3  PIN2  |            |           |            |             |  OW3 IO2  |                |    √     |
|  D3   | GPIO3  PIN3  |            |           |            |             |  OW3 IO3  |                |    √     |
|  D4   | GPIO3  PIN4  |            |           |            |             |  OW3 IO4  |                |    √     |
|  D5   | GPIO3  PIN5  |            |           |            |             |  OW3 IO5  |                |    √     |
|  D6   | GPIO3  PIN6  |            |           |            |             |  OW3 IO6  |                |    √     |
|  D7   | GPIO3  PIN7  |            |           |            |             |  OW3 IO7  |                |    √     |
|  D8   | GPIO3  PIN8  |            |           |            |             |  OW3 IO8  |                |    √     |
|  D9   | GPIO3  PIN9  |            |           |            |             |  OW3 IO9  |                |    √     |
|  D10  | GPIO3  PIN10 |            |           |            |             | OW3 IO10  |                |    √     |
|  D11  | GPIO3  PIN11 |            |           |            |             | OW3 IO11  |                |    √     |
|  D12  | GPIO3  PIN12 |            | I2C2  SCL |            |             | OW3 IO12  |                |    √     |
|  D13  | GPIO3  PIN13 |            | I2C2  SDA |            |             | OW3 IO13  |                |    √     |
|  D14  | GPIO3  PIN14 |            |           |            |             | OW3 IO14  |                |    √     |
|  D15  | GPIO3  PIN15 |            |           |            |             | OW3 IO15  |                |    √     |
|  E0   | GPIO4  PIN0  |            |           |            |             |  OW4 IO0  |                |    √     |
|  E1   | GPIO4  PIN1  |            |           |            |             |  OW4 IO1  |                |    √     |
|  E2   | GPIO4  PIN2  |            |           |            |             |  OW4 IO2  |                |    √     |
|  E3   | GPIO4  PIN3  |            |           |            |             |  OW4 IO3  |                |    √     |
|  E4   | GPIO4  PIN4  |            |           |            |             |  OW4 IO4  |                |    √     |
|  E5   | GPIO4  PIN5  |            |           |            |             |  OW4 IO5  |                |    √     |
|  E6   | GPIO4  PIN6  |            |           |            |             |  OW4 IO6  |                |    √     |
|  E7   | GPIO4  PIN7  |            |           |            |             |  OW4 IO7  |                |    √     |
|  E8   | GPIO4  PIN8  |            |           |            |             |  OW4 IO8  |                |    √     |
|  E9   | GPIO4  PIN9  |            |           |            |             |  OW4 IO9  |                |    √     |
|  E10  | GPIO4  PIN10 |            |           |            |             | OW4 IO10  |                |    √     |
|  E11  | GPIO4  PIN11 |            |           |            |             | OW4 IO11  |                |    √     |
|  E12  | GPIO4  PIN12 |            |           |            |             | OW4 IO12  |                |    √     |
|  E13  | GPIO4  PIN13 |            |           |            |             | OW4 IO13  |                |    √     |
|  E14  | GPIO4  PIN14 |            |           |            |             | OW4 IO14  |                |    √     |
|  E15  | GPIO4  PIN15 |            |           |            |             | OW4 IO15  |                |    √     |


