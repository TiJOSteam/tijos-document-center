# TiKit-T600-ESP8266A 开发套件产品介绍

## 一、概述

TiKit-T600-ESP8266A开发套件是北京钛云物联科技有限公司为现代物联网应用倾力打造的开发套件，是Tikit系列开发套件成员之一，其提供目标开发板和丰富的传感器外设，开发板搭载有ESP8266高性能微处理器，运行有功能强大的钛极OS(TiJOS)物联网操作系统，编程语言使用标准JAVA，用户只需要调用JDK中提供的传感器及系统操作接口就可以轻松快速的完成产品雏形的开发。

本开发套件中，ESP8266高性能微处理器为乐鑫信息科技(上海)有限公司(Espressif Systems (Shanghai) Pte., Ltd.)Ltd针对物联网行业打造的一款低功耗低成本的MCU，详细资料请访问官方网址：http://espressif.com/

## 二、开发套件清单

| 类别                  | 名称            |  数量  | 备注                      |
| ------------------- | ------------- | :--: | :---------------------- |
| TiKit-T600-ESP8266A | 钛极OS开发板       |  1个  | 核心板+底板                  |
| TiButton            | 按键模块          |  1个  | 四个按键一组，共阴极              |
| TiHSCR04            | 超声波测距模块       |  1个  | 支持3.3V工作                |
| TiMQ2               | 可燃气体浓度检测模块    |  1个  | 模拟/数字双通道                |
| TiDHT               | 数字温湿度采集模块     |  1个  | 支持DHT11和DHT22           |
| TiDS18B20           | 数字温度采集模块      |  1个  | 高精度，分辨率可编程              |
| TiVS1838BNEC        | 红外接收模块        |  1个  | NEC解码                   |
| TiBuzzer            | 有源蜂鸣器模块       |  1个  | 低电平激活                   |
| TiLED               | LED灯模块        |  1个  | 四个LED灯一组，红/黄/蓝/绿 四色，共阳极 |
| TiOLED_UG2864       | OLED12864显示模块 |  1个  | 蓝(白)色，0.96英寸            |
| TiRGBLED            | 三基色灯模块        |  1个  | 共阴极                     |
| TiRelay1CH          | 单通道继电器模块      |  1个  | 弱电压5V，强电压250V，低电平激活     |
| ---                 | 红外遥控器         |  1个  | NEC编码，20键迷你型            |
| ---                 | 杜邦线           | 40条  | 彩色，长20cm                |
| ---                 | USB连接线        |  2条  | MicroUSB                |
| ---                 | 包装盒           |  1个  |                         |
| ---                 | 说明书           |  1个  |                         |
|                     | 产品铭牌          |  1个  |                         |

## 二、开发板说明

TiKit-T600-ESP8266A开发板由底板和顶板组成，底板将钛极OS(TiJOS)物联网操作系统支持的设备总线全部引出，同时为整机提供电源和日志打印功能；顶板以ESP-12E/F模块为核心，内嵌钛极OS(TiJOS)物联网操作系统，顶板与底板之间通过插针连接。

![tikit-board](.\Picture\tikit-board.png)

### 开发板功能区

**① 底板：**将钛极OS(TiJOS)物联网操作系统支持的设备总线全部引出，同时为整机提供电源和日志打印功能。

**② 顶板：**以ESP-12E/F模块为核心，内嵌钛极OS(TiJOS)物联网操作系统。

**③ 应用下载、系统升级接口：**用户应用程序下载或升级操作系统；USB-UART接口，波特率115200bps，8数 据位，1停止位，无校验位。

**④ 5V电源输入、日志打印接口：**打印用户日志数据和5V直流电源输入；USB-UART接口，波特率115200bps，8数据位，1停止位，无校验位。

**⑤ 设备总线接口：**GPIO、UART、... 总线接口。

**⑥ 3.3V电源输出：**3.3V直流电源输出。

**⑦ 终端启动按钮：**手动启动系统终端程序(Terminal APP)。

**⑧ 系统复位按钮：**开发板系统复位(RESET)。

**⑨ 系统更新按钮：**控制进入操作系统升级状态，参考ESP8266标准烧录流程。

**⑩ 5V电源输出：**5V直流电源输出。

**⑪ UART接口使能开关：**控制底板UART接口是否与顶板UART连接。注：顶板USB转UART与该UART接口复用。

### 设备总线接口

本开发板支持GPIO、PWM、ADC、I2C、SPI、UART、OW(1-Wire)七种设备总线，每种总线支持的接口组数（个数）以及每组接口内资源支持情况请参考：**附录1：硬件平台特性**。

## 三、开发环境搭建

开发环境搭建与使用请参考TiJOS应用开发环境搭建文档。

## 四、上电使用

### 上电连接

1. 请将包装内的两根Micro USB 线的一端分别连接开发板**底板**USB接口和**顶板**USB接口，另一端连接到电脑。
2. 首次使用需要安装USB驱动程序，Windows 7以上操作系统自动下载安装，否则需要手动下载安装。
3. 复位开发板，确保**系统终端**程序(Terminal APP)已经启动，详细请参考：[appcenter - 应用管理中心](../../tijos-development-guide/tijos.framework.appcenter.md)

**请务必保证开发板下无金属物体，防止短路损坏开发板。**

### USB驱动安装

如果连接USB接口后在Windows设备管理器中未显示如下类似端口信息，则需要安装开发板上 USB 转 UART 芯片的驱动：

![tikit_port](.\Picture\tikit_port.png)

请从如下链接下载驱动文件进行安装即可

CP210X UART驱动: <http://www.silabs.com/documents/public/software/CP210x_Windows_Drivers.zip>

CH340 UART驱动: <http://www.wch.cn/download/CH341SER_EXE.html>

### 指示灯说明

| LED        | 状态   | 作用                                    |
| ---------- | ---- | ------------------------------------- |
| 红色LED (底板) | 常亮   | 5V电源接通                                |
| 蓝色LED (底板) | 常亮   | Wi-Fi工作在Station模式，并且已经连接AP            |
|            | 闪烁   | Wi-Fi工作在Station模式，正在连接AP或SoftAP模式已经开启 |
| 绿色LED (底板) | 闪烁   | 正在打印日志数据                              |

### 按键说明

| 按键         | 作用                                       |
| ---------- | ---------------------------------------- |
| RESET (底板) | 系统复位按键，按一次按键，系统复位                        |
| BOOT (底板)  | **系统终端**程序(Terminal APP)启动按键，按住此按键不放，按一次RESET按键，然后松开此按键，手动启动系统终端程序，可进行用户应用下载/运行和系统配置等 |
| FLASH (顶板) | 操作系统升级按键，按住此按键不放，按一次RESET按键，然后松开此按键，进入操作系统升级状态，可进行操作系统的烧录 |

### 接口说明

**J1接口**

| 丝印            | 功能               |
| ------------- | ---------------- |
| PIN0 ... PIN7 | GPIO的8位数据线       |
| CH0 ... CH2   | PWM的3个通道         |
| ADC           | ADC模拟电压采集线       |
| SCL           | I2C主机的时钟线        |
| SDA           | I2C主机的数据线        |
| CS            | SPI主机的片选线        |
| MOSI          | SPI主机的输出线        |
| MISO          | SPI主机的输入线        |
| CLK           | SPI主机的时钟线        |
| RX            | UART的接收线         |
| TX            | UART的发送线         |
| IO0 ... IO2   | 1-Wire(OW)主机的IO线 |

**J2接口**

| 丝印   | 功能               |
| ---- | ---------------- |
| GND  | 3.3V电源地线，受工作模式控制 |

**J3接口**

| 丝印   | 功能              |
| ---- | --------------- |
| 3.3V | 3.3V电源线，受工作模式控制 |

**J4接口**

| 丝印   | 功能      |
| ---- | ------- |
| DC5V | 5V电源和地线 |

模块对应资源分配请参考 ：**附录2：ESP-12E/F模块外设资源**

## 五、传感器及模块

关于开发套件中传感器模块介绍请参考：[TiKit开发套件传感器模块介绍](../tikit_sensors.md)

## 六、技术性能和主要参数

电源电压：5.0V.

工作电压：3.3V.

工作电流：

1. WLAN工作模式：
  平均：~70mA     峰值：200mA.

2. 非WLAN工作模式：
  平均： ~12mA    峰值： 200mA.
  冬眠：<100uA.

应用程序启动时间：<50ms.

应用程序事件响应时间：<2ms.

工作温度：-20℃~85℃.

存储环境：温度 <40℃，相对湿度 <90%R.H.

尺寸：底板 97×50 cm，顶板 48×25 cm.

## 七、常见问题

#### 问题1. 底板3.3V或5V电源接口无电压？

1. 确保底板USB的5V电源已经接通，底板红色灯常亮。

#### 问题2. 日志无法打印？

1. 确保底板USB已正确连接计算机并且串口驱动（CH340芯片）已经成功安装。

#### 问题3. 应用无法下载？

1. 确保顶板USB已正确连接计算机并且串口驱动（CP2102芯片）已经成功安装。
2. 确保**系统终端**程序(Terminal APP)已经启动，启动方法：按住BOOT按键，按一次RESET按键，然后松开BOOT按键。

#### 问题4. 开发板的两个USB接口分别有什么功能？驱动如何安装？

1. 底板USB接口采用CH340型号USB转串口芯片，用作应用日志打印和直流5V供电接口。

2. 顶板USB接口采用CP2102型号USB转串口芯片，用作应用下载和操作系统升级接口。

3. Windows 7及以上操作系统驱动会自动下载安装、低版本操作系统需要用户手动下载安装。

更多问题可访问[钛极OS(TiJOS)技术交流社区](http://bbs.tijos.net)进行讨论。

## 八、其他

## 附录1：硬件平台特性

硬件平台特性为ESP8266硬件在钛极OS(TiJOS)操作系统下支持的特性，不同硬件平台在钛极OS(TiJOS)操作系统下支持的特性可能不相同，用户在做系统开发前应仔细阅读。

| 存储特性     | 支持    | 说明                  |
| -------- | ----- | ------------------- |
| 支持应用数据存储 | 32KB  | JAVA文件系统空间          |
| 支持应用程序存储 | 468KB | *.TAPK执行区空间，最多32个应用 |
| 支持应用程序内存 | 16KB  | *.TAPK执行堆空间         |

| 电源管理特性                       | 支持   | 说明          |
| ---------------------------- | ---- | ----------- |
| 待机(standby)，指定Wakeup脚/时间自动唤醒 | 支持   | **最大4200秒** |
| 停止(stop)，指定GPIO的PIN/时间自动唤醒   | 不支持  | 无           |
| 睡眠(sleep)，指定GPIO的PIN唤醒       | 不支持  | 无           |

| WLAN特性 | 支持                     | 说明   |
| ------ | ---------------------- | ---- |
| 支持硬件接口 | Wi-Fi                  | 无    |
| 支持数量   | 1个                     | 无    |
| 支持工作模式 | 同时支持Station和SoftAP工作模式 | 无    |

| GPIO特性     | 支持   | 说明                             |
| ---------- | ---- | ------------------------------ |
| 支持数量       | 1组   | 即**只支持port0，PIN支持PIN0 - PIN7** |
| 支持输入       | 支持   | 无                              |
| 支持开漏输出     | 支持   | 无                              |
| 支持推挽输出     | 支持   | 无                              |
| 支持输入复合开漏输出 | 支持   | 无                              |
| 支持可控上拉     | 支持   | PIN2无上拉，其他均有上拉                 |
| 支持可控下拉     | 不支持  | **PIN2内部默认固定下拉**               |
| 支持上升沿事件    | 支持   | 具备输入模式PIN可设置                   |
| 支持下降沿事件    | 支持   | 具备输入模式PIN可设置                   |
| 支持双沿事件     | 支持   | 具备输入模式PIN可设置                   |

| UART特性     | 支持                                       | 说明            |
| ---------- | ---------------------------------------- | ------------- |
| 支持数量       | 1个                                       | 即**只支持port0** |
| 支持波特率(bps) | 1200、2400、4800、9600、19200、38400、57600、74880 |               |
|            | 115200、230400、460800、921600、1843200、3686400 | 无             |
| 支持数据位      | 5、6、7、8                                  | 无             |
| 支持停止位      | 1、2                                      | 无             |
| 支持校验位      | 奇校验、偶校验、无检验                              | ODD、EVEN、NONE |
| 数据流控制      | 不支持                                      | 无             |

| ADC特性 | 支持        | 说明             |
| ----- | --------- | -------------- |
| 支持数量  | 1个        | 即**只支持port0**  |
| 参考电压  | 1V(伏)     | 硬件内部           |
| 分压倍数  | 5         | 电阻采样分压         |
| 电压量程  | 0 - 5V(伏) | 精度: 4.88mV(毫伏) |

| PWM特性   | 支持          | 说明                             |
| ------- | ----------- | ------------------------------ |
| 支持数量    | 1组          | 即**只支持port0，Channel支持CH0-CH2** |
| 支持脉冲频率  | 20Hz - 3KHz | 周期范围：50000us - 333us           |
| 支持脉冲占空比 | 0 - 255     |                                |

| I2C特性       | 支持      | 说明            |
| ----------- | ------- | ------------- |
| 主机支持数量      | 1个      | 即**只支持port0** |
| 从机支持数量      | 不支持     | 无             |
| 支持波特率(Kbps) | 100、400 | 无             |

| SPI特性       | 支持                      | 说明            |
| ----------- | ----------------------- | ------------- |
| 主机支持数量      | 1个                      | 即**只支持port0** |
| 从机支持数量      | 不支持                     | 无             |
| 支持波特率(Mbps) | 1、2、5、8、10              | 无             |
| 支持工作模式      | MODE0、MODE1、MODE2、MODE3 | 无             |
| 支持数据位传输方向   | MSB、LSB                 | 无             |
| 支持数据位宽      | SIO                     | 8位宽           |

| OW(单总线)特性 | 支持   | 说明                        |
| --------- | ---- | ------------------------- |
| 主机支持数量    | 1组   | 即**只支持port0、IO支持io0-io2** |
| 从机支持数量    | 不支持  | 无                         |
| 支持标准模式    | 支持   | Standard模式                |
| 支持高速模式    | 支持   | Over-Drive模式              |

## 附录2：ESP-12E/F模块外设资源

下图为钛极OS(TiJOS)操作系统在ESP-12E/F模块平台支持的外设资源，用户可以根据本公司发布的原理图设计开发属于自己的产品或开发板。

![ESP12](.\Picture\TiJOS_ESP-12.png)

## 附录3：开发板顶板外设资源

下图为钛极OS(TiJOS)操作系统在开发板顶板支持的外设资源，用户可以根据本公司发布的原理图设计开发属于自己的产品或开发板。

![MainBoard](.\Picture\TiJOS_MainBoard.png)
